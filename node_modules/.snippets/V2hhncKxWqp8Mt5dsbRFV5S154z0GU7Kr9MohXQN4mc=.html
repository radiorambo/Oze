<div class="copy-code-block code-block"><span class="filename">src/routes/login/+page.svelte</span><pre class="language-diff" style="background-color: var(--shiki-color-background)"><code>&lt;script&gt;
<span class="inserted">	import { enhance, applyAction } from &#39;$app/forms&#39;;
</span>
	/** @type {import(&#39;./$types&#39;).ActionData} */
	export let form;
&lt;/script&gt;

&lt;form
	method=&quot;POST&quot;
	use:enhance={({ formElement, formData, action, cancel }) =&gt; {

		return async ({ result }) =&gt; {
			// `result` is an `ActionResult` object
<span class="inserted">			if (result.type === &#39;redirect&#39;) {
</span><span class="inserted">				goto(result.location);
</span><span class="inserted">			} else {
</span><span class="inserted">				await applyAction(result);
</span><span class="inserted">			}
</span>		};
	}}
&gt;
</code></pre></div>