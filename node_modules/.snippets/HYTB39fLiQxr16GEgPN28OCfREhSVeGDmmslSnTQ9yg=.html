<div class="js-version copy-code-block code-block"><span class="filename">blog/[slug]/+page.server.js</span><pre class="shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) const BYPASS_TOKEN: string&amp;#10;import BYPASS_TOKEN' >BYPASS_TOKEN</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;$env/static/private&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class="line">
</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const config: {&amp;#10;    isr: {&amp;#10;        expiration: number;&amp;#10;        bypassToken: string;&amp;#10;        allowQuery: string[];&amp;#10;    };&amp;#10;}' >config</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">	<data-lsp lsp='(property) isr: {&amp;#10;    expiration: number;&amp;#10;    bypassToken: string;&amp;#10;    allowQuery: string[];&amp;#10;}' >isr</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">		</span><span style="color: var(--shiki-token-comment)">// Expiration time (in seconds) before the cached asset will be re-generated by invoking the Serverless Function.</span></div><div class='line'><span style="color: var(--shiki-color-text)">		</span><span style="color: var(--shiki-token-comment)">// Setting the value to `false` means it will never expire.</span></div><div class='line'><span style="color: var(--shiki-color-text)">		<data-lsp lsp='(property) expiration: number' >expiration</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)">60</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class="line">
</div><div class='line'><span style="color: var(--shiki-color-text)">		</span><span style="color: var(--shiki-token-comment)">// Random token that can be provided in the URL to bypass the cached version of the asset, by requesting the asset</span></div><div class='line'><span style="color: var(--shiki-color-text)">		</span><span style="color: var(--shiki-token-comment)">// with a __prerender_bypass=&lt;token&gt; cookie.</span></div><div class='line'><span style="color: var(--shiki-color-text)">		</span><span style="color: var(--shiki-token-comment)">//</span></div><div class='line'><span style="color: var(--shiki-color-text)">		</span><span style="color: var(--shiki-token-comment)">// Making a `GET` or `HEAD` request with `x-prerender-revalidate: &lt;token&gt;` will force the asset to be re-validated.</span></div><div class='line'><span style="color: var(--shiki-color-text)">		<data-lsp lsp='(property) bypassToken: string' >bypassToken</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(alias) const BYPASS_TOKEN: string&amp;#10;import BYPASS_TOKEN' >BYPASS_TOKEN</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class="line">
</div><div class='line'><span style="color: var(--shiki-color-text)">		</span><span style="color: var(--shiki-token-comment)">// List of valid query parameters. Other parameters (such as utm tracking codes) will be ignored,</span></div><div class='line'><span style="color: var(--shiki-color-text)">		</span><span style="color: var(--shiki-token-comment)">// ensuring that they do not result in content being regenerated unnecessarily</span></div><div class='line'><span style="color: var(--shiki-color-text)">		<data-lsp lsp='(property) allowQuery: string[]' >allowQuery</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [</span><span style="color: var(--shiki-token-string-expression)">&apos;search&apos;</span><span style="color: var(--shiki-color-text)">]</span></div><div class='line'><span style="color: var(--shiki-color-text)">	}</span></div><div class='line'><span style="color: var(--shiki-color-text)">};</span></div></code></div></pre></div>