<pre class="copy-code-block shiki twoslash lsp" style="background-color: var(--shiki-color-background); color: var(--shiki-color-text)"><div class="language-id">ts</div><div class='code-container'><code><div class='line'><span style="color: var(--shiki-token-keyword)">import</span><span style="color: var(--shiki-color-text)"> { <data-lsp lsp='(alias) function sveltekit(): Promise&amp;lt;import(&amp;apos;vite&amp;apos;).Plugin[]>&amp;#10;import sveltekit' >sveltekit</data-lsp> } </span><span style="color: var(--shiki-token-keyword)">from</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;@sveltejs/kit/vite&apos;</span><span style="color: var(--shiki-color-text)">;</span></div><div class="line">
</div><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;vite&apos;).Plugin}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const myPlugin: Plugin&amp;lt;any>' >myPlugin</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">	<data-lsp lsp='(property) OutputPlugin.name: string' >name</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-string-expression)">&apos;log-request-middleware&apos;</span><span style="color: var(--shiki-token-punctuation)">,</span></div><div class='line'><span style="color: var(--shiki-color-text)">	</span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(property) Plugin&amp;lt;any>.configureServer?: ObjectHook&amp;lt;ServerHook> | undefined' >configureServer</data-lsp></span><span style="color: var(--shiki-color-text)">(<data-lsp lsp='(parameter) server: ViteDevServer' >server</data-lsp>) {</span></div><div class='line'><span style="color: var(--shiki-color-text)">		</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) server: ViteDevServer' >server</data-lsp></span><span style="color: var(--shiki-token-function)">.</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(property) ViteDevServer.middlewares: Connect.Server' >middlewares</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Connect.Server.use(fn: Connect.NextHandleFunction): Connect.Server (+3 overloads)' >use</data-lsp></span><span style="color: var(--shiki-color-text)">((<data-lsp lsp='(parameter) req: Connect.IncomingMessage' >req</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) res: ServerResponse&amp;lt;IncomingMessage>' >res</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='(parameter) next: Connect.NextFunction' >next</data-lsp>) </span><span style="color: var(--shiki-token-keyword)">=&gt;</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">			</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='namespace console&amp;#10;var console: Console' >console</data-lsp></span><span style="color: var(--shiki-token-function)">.<data-lsp lsp='(method) Console.log(message?: any, ...optionalParams: any[]): void (+1 overload)' >log</data-lsp></span><span style="color: var(--shiki-color-text)">(</span><span style="color: var(--shiki-token-string-expression)">`Got request </span><span style="color: var(--shiki-token-keyword)">${</span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='(parameter) req: Connect.IncomingMessage' >req</data-lsp></span><span style="color: var(--shiki-color-text)">.<data-lsp lsp='(property) IncomingMessage.url?: string | undefined' >url</data-lsp></span><span style="color: var(--shiki-token-keyword)">}</span><span style="color: var(--shiki-token-string-expression)">`</span><span style="color: var(--shiki-color-text)">);</span></div><div class='line'><span style="color: var(--shiki-color-text)">			</span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(parameter) next: (err?: any) => void' >next</data-lsp></span><span style="color: var(--shiki-color-text)">();</span></div><div class='line'><span style="color: var(--shiki-color-text)">		});</span></div><div class='line'><span style="color: var(--shiki-color-text)">	}</span></div><div class='line'><span style="color: var(--shiki-color-text)">};</span></div><div class="line">
</div><div class='line'><span style="color: var(--shiki-token-comment)">/** </span><span style="color: var(--shiki-token-keyword)">@type</span><span style="color: var(--shiki-token-comment)"> </span><span style="color: var(--shiki-token-function)">{import(&apos;vite&apos;).UserConfig}</span><span style="color: var(--shiki-token-comment)"> */</span></div><div class='line'><span style="color: var(--shiki-token-keyword)">const</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-constant)"><data-lsp lsp='const config: UserConfig' >config</data-lsp></span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">=</span><span style="color: var(--shiki-color-text)"> {</span></div><div class='line'><span style="color: var(--shiki-color-text)">	<data-lsp lsp='(property) UserConfig.plugins?: PluginOption[] | undefined' >plugins</data-lsp></span><span style="color: var(--shiki-token-keyword)">:</span><span style="color: var(--shiki-color-text)"> [<data-lsp lsp='const myPlugin: Plugin&amp;lt;any>' >myPlugin</data-lsp></span><span style="color: var(--shiki-token-punctuation)">,</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-function)"><data-lsp lsp='(alias) sveltekit(): Promise&amp;lt;Plugin&amp;lt;any>[]>&amp;#10;import sveltekit' >sveltekit</data-lsp></span><span style="color: var(--shiki-color-text)">()]</span></div><div class='line'><span style="color: var(--shiki-color-text)">};</span></div><div class="line">
</div><div class='line'><span style="color: var(--shiki-token-keyword)">export</span><span style="color: var(--shiki-color-text)"> </span><span style="color: var(--shiki-token-keyword)">default</span><span style="color: var(--shiki-color-text)"> <data-lsp lsp='const config: UserConfig' >config</data-lsp>;</span></div></code></div></pre>